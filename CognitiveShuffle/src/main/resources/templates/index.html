<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>音声読み上げ</title>
</head>
<body>
	<h1>音声合成</h1>
	<button onclick="speakWord()" style="height: 30px; width: 80px;">speak</button>

	<!-- スクリプト部分 -->
	<script th:inline="javascript">
	
	function sleep(ms) {
		  return new Promise(resolve => setTimeout(resolve, ms));
		}
	//const sleep = ms => new Promise(resolve => setTimeout(resolve, ms));
	
	function speak(word) {
			
		var speak = new SpeechSynthesisUtterance();
		
		speak.text = word;
		speak.rate = 0.3; // 読み上げ速度 0.1-10 初期値:1 (倍速なら2, 半分の倍速なら0.5, )
		speak.pitch = 1; // 声の高さ 0-2 初期値:1(0で女性の声) 
		speak.lang = 'ja-JP'; //(日本語:ja-JP, アメリカ英語:en-US, イギリス英語:en-GB, 中国語:zh-CN, 韓国語:ko-KR)
		
		speechSynthesis.speak(speak);
	}
	
	
	async function speakWord(){
		
	var wordList =  /*[[${wordList}]]*/
	
	for(const word of wordList) {
		speak(word);
		await sleep(10*1000);	
	}

	}
	


	</script>
<body>
</html>